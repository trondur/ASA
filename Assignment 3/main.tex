\documentclass[a4paper]{paper}
\usepackage{../mathpartir}
\usepackage[margin=0.5cm]{geometry}
\input{../while}
\begin{document}

\section*{Exercise 1}

\subsection*{a)} The data type Strange is strange, because it lacks a base case.

\subsection*{b)} Provide an induction principle for Strange.
\[
\inferrule*[]
{
	\forall n\;s.\;P\;s\rightarrow P(C_1\;n\;s)\\\\
	\forall b\;s.\;P\;s\rightarrow P(C_2\;b\;s)
}{P\;s}
\]

\subsection*{c)}
\[
	\inferrule*[]
	{
		\forall n\;s.\;False\rightarrow False\\\\
		\forall b\;s.\;False\rightarrow False
	}{False}
\]

Assume S:Strange\\
Prove False\\
Proof by inductions on S\\
Case $C_1$\\
Assume IH $C_1$: False hence False
Case $C_2$\\
Assume IH $C_2$: False hence False

\section*{Exercise 2}
\[
\begin{array}{l}
	(S, s) \dev \gamma \\
	\forall s\; P\;\cskip\;s\;s \\
	\forall b\;S\;s\;P(\cwhile b S)\;s\;\sos{\cif b {(S;\;\cwhile b S} \cskip}, s)>\\
	\forall a\;s.\;P(\cass x a)\;s\;(s[x \rightarrow \aeval a s])\\
	\forall S_1\;S_2\;s\;s'.\; \sos {S_1} s \dev{s'}\rightarrow P\;S_1\;s\;s'\rightarrow P\;(S_1;S_2)\;s\; \sos {S_2} {s'}\\
	\forall S_1\;S_2\;s\;s'.\; \sos {S_1} s \dev \sos {{S_1}''} {s'}\rightarrow P\;S_1\;s\;s'.\rightarrow P\;(S_1;S_2)\;s\; \sos {S_2} {s'}\\
	\forall b\;s\;s'\;{S_1}\;{S_2}.\;\beval b s = \ltrue \rightarrow P\;{(\cif b {S_1} {S_2})}\;s\;\sos {S_1} s \\
	\forall b\;s\;s'\;{S_1}\;{S_2}.\;\beval b s = \lfalse \rightarrow P\;{(\cif b {S_1} {S_2})}\;s\;\sos {S_2} s\\
	\hline
	P\;S\;s
\end{array}
\]
$\rifffsos \forall s\;s'\;b\;{S_1}\;{S_2}.\;\beval b s = \lfalse \dev {\ns {S_2} s {s'}} \dev P\;{S_2}\;s\;s' \dev P \ns {\cif b {S_1} {S_2}} s s'$\\

$\rwhilesos \forall s\;s'\;s''\;b\;S.\;{\ns S s {s''}} \dev { \ns{\cwhile b S} {s''} s'}\\
P\;S\;s\;{s''} \dev P \ns {\cwhile b S} {s''} {s'} \dev P\;(\cwhile b S)\;{s''}\;{s'} \dev \beval b s = \ltrue \dev P\;(\cwhile b S)\;s\;s$\\

$\rwhilesos \forall b\;S.\;\beval b s = \lfalse \dev P\;(\cwhile b S)\;s\;s
$\\

\section*{Exercise 3}
Prove that if $(S_1, s) \devk k s'$ then $(S_1;S_2, s) \devk k (S_2, s')$

\noindent We can assume A:

$$({S_1},s) \devk k {s'}$$
Only two derivation rules can be used to derive B:

$$({S_1};{S_2}, s)\devk k ({S_2}, s')$$
The first is C:
\[
\inferrule*[left=\rcompasos, width=\textwidth]
{
	{({S_1}, s) \dev ({S'_1}, s')}
}
{({S_1};{S_2}, s)\dev ({S'_1};{S_2}, s')}
\]
and the second D:
\[
\inferrule*[left=\rcompbsos, width=\textwidth]
{
	{({S_1}, s) \dev {s'}}
}
{({S_1};{S_2}, s)\dev ({{S_2}, s')}}
\]

\noindent Since we assume A, that $S_1$ terminates in $s'$ in k steps, we have the assumptions needed to use D and therefore show that the execution of $S_1$ is not influence by the following statements.

\section*{Exercise 4}

\end{document}